### 2026-02-26 Session Notes

## 카메라별 사진 갤러리 프로젝트 — 개발 착수 준비

- **요구사항 확정 (20:16 KST):**
  - 사진 업로드 → EXIF 파싱(Make, Model, DateTimeOriginal) → 카메라별·촬영 년/월별 자동 분류
  - **Main 페이지:** 업로드된 사진의 EXIF 기반으로 카메라 목록 자동 생성
  - **Archive 페이지:** 업로드된 사진이 카메라 모델별 분류 + 촬영 년/월 분류에 자동 추가
  - 배포: GitHub + Vercel (확인 대기)
  - 이미지 저장소·DB·도메인 선택은 마스터님 답변 대기 중

- **이전 기획서 (2026-02-24 작성):**
  - 상세 개발기획서를 이미 작성해 전달함 (섬네일 그리드 → 라이트박스, 관리자 페이지, mac 폴더 자동 감지·EXIF 파싱·업로드 파이프라인 포함)
  - 아키텍처: Next.js + Vercel + S3/Supabase Storage + Postgres/Supabase + Sharp + exiftool + mac watcher(chokidar)
  - 마일스톤: 약 4~6주, 6개 스프린트로 분해

- **대기 중인 질문 (마스터님 답변 필요):**
  1. 배포 환경: GitHub + Vercel 확정?
  2. 이미지 저장소: Supabase Storage / AWS S3 / Firebase Storage 선호?
  3. DB: Supabase(Postgres) / Firebase Firestore 선호?
  4. 도메인: 기존 도메인 연결 vs Vercel 기본 URL?

---

## 카메라 갤러리 프로젝트 — 개발 완료 (20:46 KST)

- **사용자 결정:**
  - 배포: GitHub + Vercel ✅
  - 이미지 저장소 + DB: Supabase (Storage + Postgres) ✅
  - 도메인: Vercel 기본 URL ✅

- **구현 완료:**
  - Next.js 프로젝트 스캐폴딩 (`/Users/dyno/.openclaw/workspace/photo-gallery`)
  - Supabase 연동 (DB 테이블 cameras/photos, Storage 버킷 photos, RPC increment_photo_count)
  - EXIF 파싱 (ExifReader) + 썸네일 생성 (Sharp, WebP 400px)
  - API: `/api/upload`, `/api/cameras` (GET+PATCH), `/api/cameras/cover`, `/api/photos`
  - **Main 페이지:** 카메라 데이터 테이블 (사진, 제조사/모델명, 사용연도, 카메라 종류, Archive 보기, 설명글)
  - **Archive 페이지:** 카메라별·년/월별 필터 사이드바 + 섬네일 그리드 + 라이트박스
  - **Admin 페이지:** 로그인 보호 (Supabase Auth), 카메라 관리(커버사진·사용연도·종류·설명 편집) + 사진 업로드
  - **Login 페이지:** 이메일+비밀번호, 미인증 시 /login 리다이렉트
  - Admin 링크는 Main/Archive 네비에서 제거 (URL 직접 접근만 가능)

- **배포:**
  - GitHub: https://github.com/nohdaeyoung/photo-gallery
  - Vercel: https://photo-gallery-chi-seven.vercel.app
  - Supabase 프로젝트: photo-gallery (ref: uakalzxkixvpsbuxzftw)

- **⚠️ 보안:** Supabase service_role 키가 채팅에 노출됨 → 키 로테이션 권장

- **남은 작업:**
  - Mac 워처 (chokidar) 자동 업로드 에이전트
  - 페이지네이션
  - Admin 인증 강화 (현재 Supabase Auth 기본)
